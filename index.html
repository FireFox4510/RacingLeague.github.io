<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Racing League</title>
    <style>
      /* ====== Grundlayout ====== */
      body {
        margin: 0;
        font-family: 'Arial', sans-serif;
        background-color: #0b0b0b;
        color: #f2f2f2;
      }

      header {
        background-color: #ff1a1a;
        padding: 25px 0;
        text-align: center;
        box-shadow: 0 2px 10px rgba(255, 26, 26, 0.3);
        transition: background-color 0.3s, color 0.3s;
      }

      header h1 {
        margin: 0;
        font-size: 2.4em;
        letter-spacing: 1px;
        color: #fff;
        transition: color 0.3s;
      }

      nav {
        background-color: #141414;
        padding: 12px 0;
        text-align: center;
        border-bottom: 2px solid #ff1a1a;
        position: relative;
      }

      nav a {
        color: #ffffff;
        text-decoration: none;
        margin: 0 20px;
        font-weight: bold;
        transition: color 0.2s;
        cursor: pointer;
      }

      nav a:hover {
        color: #ff1a1a;
      }

      /* Hover-Dropdown f√ºr Teams */
      .dropdown {
        position: relative;
        display: inline-block;
      }

      .dropdown-content {
        display: none;
        position: absolute;
        background-color: #141414;
        min-width: 120px;
        box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
        z-index: 1;
        border-radius: 5px;
        top: 100%;
        left: 0;
      }

      .dropdown:hover .dropdown-content {
        display: block;
      }

      .dropdown-content a {
        color: #fff;
        padding: 8px 12px;
        text-decoration: none;
        display: block;
        font-weight: normal;
        font-size: 0.9em;
        text-align: left;
        transition: background-color 0.2s;
      }

      /* Team-spezifische Hover-Farben im Dropdown */
      .dropdown-content a:nth-child(1):hover { background-color: #7c0000; }
      .dropdown-content a:nth-child(2):hover { background-color: #6102ae; }
      .dropdown-content a:nth-child(3):hover { background-color: #ff8f00; }
      .dropdown-content a:nth-child(4):hover { background-color: #646464; color: #fff; }

      /* Dropdown f√ºr Saisons */
      .season-dropdown {
        position: relative;
        display: inline-block;
        margin: 10px 0;
      }

      .season-dropdown-content {
        display: none;
        position: absolute;
        background-color: #141414;
        min-width: 100px;
        box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
        z-index: 1;
        border-radius: 5px;
        top: 100%;
        left: 0;
      }

      .season-dropdown:hover .season-dropdown-content {
        display: block;
      }

      .season-dropdown-content a {
        color: #fff;
        padding: 8px 12px;
        text-decoration: none;
        display: block;
        font-weight: normal;
        font-size: 0.9em;
        text-align: left;
        transition: background-color 0.2s;
        background-color: #383732;
      }

      .season-dropdown-content a:hover {
        background-color: #2a2a2a;
      }

      main {
        text-align: center;
        padding: 80px 20px;
      }

      main h2 {
        color: #ff1a1a;
        font-size: 2em;
        margin-bottom: 20px;
      }

      main p {
        color: #d9d9d9;
        font-size: 1.1em;
        max-width: 700px;
        margin: 0 auto;
      }

      .logo {
        display: block;
        margin: 20px auto;
        max-width: 300px;
        max-height: 200px;
        height: auto;
      }

      .button {
        display: inline-block;
        background-color: #ff1a1a;
        color: #fff;
        padding: 12px 25px;
        margin: 10px;
        border-radius: 5px;
        text-decoration: none;
        font-weight: bold;
        transition: background 0.3s;
      }

      .button:hover {
        background-color: #cc1414;
      }

      .game-button {
        background-color: #40E0D0; /* T√ºrkis */
        color: #000000; /* Schwarze Schrift */
        padding: 10px 20px;
        margin: 5px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
      }

      .game-button:hover {
        background-color: #33C2B7;
      }

      /* Sektionen */
      .section {
        display: none;
      }

      .section.active {
        display: block;
      }

      /* Teams-Sektion */
      .teams-section {
        max-width: 700px;
        margin: 0 auto;
      }

      /* Kontakt-Sektion */
      .contact-section {
        max-width: 700px;
        margin: 0 auto;
        display: flex;
        justify-content: space-around;
        flex-wrap: wrap;
      }

      .contact-section h3 {
        color: #ff1a1a;
        font-size: 1.5em;
        margin-bottom: 10px;
      }

      .contact-section p {
        color: #d9d9d9;
        font-size: 1em;
        margin: 5px 0;
        flex-basis: 45%; /* Anpassbar f√ºr nebeneinander */
      }

      /* Team-Details */
      .team-details {
        display: none;
        background-color: #141414;
        padding: 20px;
        border-radius: 5px;
        margin-top: 20px;
      }

      .team-details.active {
        display: block;
      }

      .team-details h3 {
        color: #fff;
        font-size: 1.5em;
        margin-bottom: 10px;
        padding: 5px 10px;
      }

      .team-details p {
        color: #d9d9d9;
        font-size: 1em;
      }

      .results-table {
        max-width: 700px;
        margin: 20px auto;
        border-collapse: collapse;
        background-color: #141414;
        border-radius: 5px;
        overflow: hidden;
      }

      .results-table th,
      .results-table td {
        padding: 12px;
        text-align: left;
        color: #d9d9d9;
        border-bottom: 1px solid #333;
      }

      .results-table th {
        background-color: #ff1a1a;
        color: #fff;
        font-weight: bold;
      }

      .results-table tr:nth-child(even) {
        background-color: #1a1a1a;
      }

      .results-table tr:hover {
        background-color: #2a2a2a;
      }

      /* Kalender-Styling */
      .calendar {
        max-width: 700px;
        margin: 20px auto;
        background-color: #141414;
        border-radius: 5px;
        padding: 15px;
      }

      .calendar h3 {
        color: #ff1a1a;
        font-size: 1.5em;
        margin-bottom: 10px;
      }

      /* Snake-Spiel-Styling */
      .game-canvas {
        border: 2px solid #ff1a1a;
        background-color: #141414;
        display: block;
        margin: 20px auto;
        display: none;
      }

      .high-scores {
        max-width: 300px;
        margin: 20px auto;
        background-color: #141414;
        padding: 10px;
        border-radius: 5px;
      }

      .high-scores h3 {
        color: #ff1a1a;
        font-size: 1.2em;
        margin-bottom: 5px;
      }

      .high-scores ul {
        list-style: none;
        padding: 0;
      }

      .high-scores li {
        padding: 5px 0;
        border-bottom: 1px solid #333;
      }
    </style>
  </head>
  <body>
    <header>
      <h1>üèéÔ∏è Racing League üöó</h1>
    </header>

    <nav>
      <a href="#" onclick="showSection('home')">Start</a>
      <div class="dropdown">
        <a href="#" class="dropbtn" onclick="showSection('teams')">Teams</a>
        <div class="dropdown-content">
          <a href="#" onclick="showSection('teams', 'team1')">Team 1</a>
          <a href="#" onclick="showSection('teams', 'team2')">Team 2</a>
          <a href="#" onclick="showSection('teams', 'team3')">Team 3</a>
          <a href="#" onclick="showSection('teams', 'team4')">Team 4</a>
        </div>
      </div>
      <a href="#" onclick="showSection('fahrer')">Fahrer</a>
      <a href="#" onclick="showSection('results')">Ergebnisse</a>
      <a href="#" onclick="showSection('championships')">Championships</a>
      <a href="#" onclick="showSection('legend')">Werde eine Legende!</a>
      <a href="#" onclick="showSection('sponsors')">Sponsoren</a>
      <a href="#" onclick="showSection('bored')">Langeweile?</a>
      <a href="#" onclick="showSection('contact')">Kontakt</a>
    </nav>

    <main>
      <!-- Willkommen-Sektion -->
      <div id="home-section" class="section active">
        <h2>Willkommen bei der Racing League</h2>
        <img src="./RacingLeagueLogo.png" alt="Racing League Logo" class="logo">
        <p>
          Bereit f√ºr den Nervenkitzel der Geschwindigkeit? Die Racing League √∂ffnet ihre Tore f√ºr alle, die das Adrenalin der Rennstrecke sp√ºren wollen! Tauche ein in die Welt der hochkar√§tigen Teams, atemberaubender Rennen und packender Ergebnisse. Hier beginnt deine Reise ‚Äì schnall dich an und entdecke, was dich erwartet!
        </p>
        <a href="#" class="button" onclick="showAllSections()">Mehr erfahren</a>
      </div>

      <!-- Teams-Sektion -->
      <div id="teams-section" class="teams-section section">
        <h2>Unsere Teams</h2>
        <!-- Team 1 -->
        <div id="team1-details" class="team-details">
          <h3 style="background-color: #7c0000;">Team 1</h3>
          <p>
            <strong>Gr√ºndung:</strong> <br>
            <strong>Fahrer:</strong> <br>
            <strong>Erfolge:</strong> <br>
            <strong>Beschreibung:</strong> <br>
            <strong>Bild des Fahrzeugs:</strong> 
          </p>
        </div>
        <!-- Team 2 -->
        <div id="team2-details" class="team-details">
          <h3 style="background-color: #6102ae;">Team 2</h3>
          <p>
            <strong>Gr√ºndung:</strong> <br>
            <strong>Fahrer:</strong> <br>
            <strong>Erfolge:</strong> <br>
            <strong>Beschreibung:</strong> <br>
            <strong>Bild des Fahrzeugs:</strong> 
          </p>
        </div>
        <!-- Team 3 -->
        <div id="team3-details" class="team-details">
          <h3 style="background-color: #ff8f00;">Team 3</h3>
          <p>
            <strong>Gr√ºndung:</strong> <br>
            <strong>Fahrer:</strong> <br>
            <strong>Erfolge:</strong> <br>
            <strong>Beschreibung:</strong> <br>
            <strong>Bild des Fahrzeugs:</strong> 
          </p>
        </div>
        <!-- Team 4 -->
        <div id="team4-details" class="team-details">
          <h3 style="background-color: #646464;">Team 4</h3>
          <p>
            <strong>Gr√ºndung:</strong> <br>
            <strong>Fahrer:</strong> <br>
            <strong>Erfolge:</strong> <br>
            <strong>Beschreibung:</strong> <br>
            <strong>Bild des Fahrzeugs:</strong> 
          </p>
        </div>
      </div>

      <!-- Fahrer-Sektion -->
      <div id="fahrer-section" class="section">
        <h2>Fahrer</h2>
        <p>
          Name: Dominic Martin√©z<br>
          Geboren: 15.06.2004<br>
          Biographie: Ein Nigger der im Kosovo geboren wurde und dort mehrere Kriegsverbrechen begannen hat.<br>
          Bild: <img src="./Dominic.png" alt="Dominic Martin√©z" class="logo">
        </p>
      </div>

      <!-- Ergebnisse-Sektion -->
      <div id="results-section" class="section">
        <h2>Fahrer-Championship</h2>
        <div class="season-dropdown">
          <a href="#" style="background-color: #40E0D0; color: #000000; padding: 10px 20px; border-radius: 5px;">Saison ausw√§hlen</a>
          <div class="season-dropdown-content">
            <a href="#" onclick="selectSeason('Saison 1'); return false;">Saison 1</a>
          </div>
        </div>
        <table class="results-table" id="championship-table">
          <thead>
            <tr>
              <th>Platz</th>
              <th>Fahrer</th>
              <th>Team</th>
              <th>Punkte</th>
            </tr>
          </thead>
          <tbody id="table-body">
            <tr><td>1</td><td>Fahrer 1</td><td>Team 1</td><td>0</td></tr>
            <tr><td>2</td><td>Fahrer 2</td><td>Team 1</td><td>0</td></tr>
            <tr><td>3</td><td>Fahrer 3</td><td>Team 2</td><td>0</td></tr>
            <tr><td>4</td><td>Fahrer 4</td><td>Team 2</td><td>0</td></tr>
            <tr><td>5</td><td>Fahrer 5</td><td>Team 3</td><td>0</td></tr>
            <tr><td>6</td><td>Fahrer 6</td><td>Team 3</td><td>0</td></tr>
            <tr><td>7</td><td>Fahrer 7</td><td>Team 4</td><td>0</td></tr>
            <tr><td>8</td><td>Fahrer 8</td><td>Team 4</td><td>0</td></tr>
          </tbody>
        </table>
        <h2>Konstrukteurs-Championship</h2>
        <table class="results-table" id="constructor-table">
          <thead>
            <tr>
              <th>Platz</th>
              <th>Team</th>
              <th>Punkte</th>
            </tr>
          </thead>
          <tbody id="constructor-body">
            <tr><td>1</td><td>Team 1</td><td>0</td></tr>
            <tr><td>2</td><td>Team 2</td><td>0</td></tr>
            <tr><td>3</td><td>Team 3</td><td>0</td></tr>
            <tr><td>4</td><td>Team 4</td><td>0</td></tr>
          </tbody>
        </table>
        <div id="calendar" class="calendar">
          <h3>Renntermine 2025</h3>
          <iframe src="https://kalender.digital/08c77cca544fa891840a" width="100%" height="400" frameborder="0"></iframe>
        </div>
      </div>

      <!-- Championships-Sektion -->
      <div id="championships-section" class="section">
        <h2>Championships</h2>
        <p>Zurzeit gibt es noch keinen Weltmeister / Konstruktionsmeister</p>
      </div>

      <!-- Langeweile-Sektion -->
      <div id="bored-section" class="section">
        <h2>Langeweile?</h2>
        <canvas id="game-canvas" class="game-canvas" width="400" height="400"></canvas>
        <p id="game-status">Punkte: 0 | Power-Up: 0s | Steuerung: Pfeiltasten | Neustart: R</p>
        <div id="high-scores" class="high-scores">
          <h3>Pers√∂nlicher Highscore</h3>
          <ul id="high-scores-list"></ul>
        </div>
      </div>

      <!-- Sponsoren-Sektion -->
      <div id="sponsors-section" class="section">
        <h2>Sponsoren</h2>
      </div>

      <!-- Werde eine Legende!-Sektion -->
      <div id="legend-section" class="section">
        <h2>Werde eine Legende!</h2>
        <p>
          Der Weg zur Legende wird lang, aber jeder hat doch auch einmal klein angefangen, oder? <br>
          Solltest du dich entschieden haben, deine Karriere bei der Racing League zu beginnen, wirst du zun√§chst auf die Probe gestellt. Wir testen dich gleich zu Beginn in einem entscheidenden Punkt: deiner Fahrf√§higkeit. <br>
          Um √ºberhaupt eingestellt zu werden, wird deine Pace auf der Strecke ermittelt ‚Äì wir pr√ºfen, wie schnell du deine Runden fahren kannst und wie konstant dein Durchschnitt ist. Solltest du dabei unsere Kriterien noch nicht erf√ºllen, brauchst du keine Angst zu haben ‚Äì nicht jeder schafft es sofort. <br>
          Wenn du dich w√§hrend der Probezeit respektvoll verh√§ltst, darfst du die <strong>Rookie-Pr√ºfung</strong> ablegen ‚Äì die erste H√ºrde, bevor es richtig auf die Strecke geht. In dieser Pr√ºfung wirst du in folgenden Bereichen getestet:
        </p>
        <ul>
          <li>Flaggenkunde</li>
          <li>Situationsfragen</li>
          <li>Allgemeinwissen</li>
        </ul>
        <p>
          Bestehst du die Rookie-Pr√ºfung, darfst du endlich in einem Rennen ans Steuer und zeigen, was in dir steckt!
        </p>
      </div>

      <!-- Kontakt-Sektion -->
      <div id="contact-section" class="section">
        <h2>Kontakt</h2>
        <h3>Unser Team:</h3>
        <div class="contact-section">
          <p>
            <strong>COO - Chief Operating Officer:</strong><br>
            Marijo Mandzukic<br>
            Geb.: 13.10.2000<br>
            Tel.: -<br>
            E-Mail: -
          </p>
          <p>
            <strong>Race Director:</strong><br>
            Dominic Martin√©z<br>
            Geb.: 15.06.2004<br>
            Tel.: -<br>
            E-Mail: -
          </p>
        </div>
      </div>
    </main>

    <footer>
      ¬© 2025 Racing League. Alle Rechte vorbehalten.
    </footer>

    <script>
      // Debugging-Log am Anfang
      console.log("Skript wird geladen...");

      // Initiale Daten im Speicher (nicht persistent)
      let championshipData = [
        {platz: 1, fahrer: 'Fahrer 1', team: 'Team 1', punkte: 0},
        {platz: 2, fahrer: 'Fahrer 2', team: 'Team 1', punkte: 0},
        {platz: 3, fahrer: 'Fahrer 3', team: 'Team 2', punkte: 0},
        {platz: 4, fahrer: 'Fahrer 4', team: 'Team 2', punkte: 0},
        {platz: 5, fahrer: 'Fahrer 5', team: 'Team 3', punkte: 0},
        {platz: 6, fahrer: 'Fahrer 6', team: 'Team 3', punkte: 0},
        {platz: 7, fahrer: 'Fahrer 7', team: 'Team 4', punkte: 0},
        {platz: 8, fahrer: 'Fahrer 8', team: 'Team 4', punkte: 0}
      ];

      let constructorData = [
        {platz: 1, team: 'Team 1', punkte: 0},
        {platz: 2, team: 'Team 2', punkte: 0},
        {platz: 3, team: 'Team 3', punkte: 0},
        {platz: 4, team: 'Team 4', punkte: 0}
      ];

      function showSection(sectionId, teamId = '') {
        console.log(`Versuche, Sektion ${sectionId} zu zeigen, Team: ${teamId}`);
        document.querySelectorAll('.section').forEach(section => {
          section.classList.remove('active');
        });
        const section = document.getElementById(`${sectionId}-section`);
        if (section) {
          section.classList.add('active');
        } else {
          console.error(`Sektion ${sectionId}-section nicht gefunden!`);
        }

        // Header-Farbe und Schriftfarbe zur√ºcksetzen
        const header = document.querySelector('header');
        const headerH1 = document.querySelector('header h1');
        if (header && headerH1) {
          header.style.backgroundColor = '#ff1a1a';
          headerH1.style.color = '#fff';
        }

        if (sectionId === 'teams') {
          document.querySelectorAll('.team-details').forEach(detail => {
            detail.classList.remove('active');
          });
          if (teamId) {
            const teamDetail = document.getElementById(`${teamId}-details`);
            if (teamDetail) {
              teamDetail.classList.add('active');
              switch (teamId) {
                case 'team1':
                  header.style.backgroundColor = '#7c0000';
                  break;
                case 'team2':
                  header.style.backgroundColor = '#6102ae';
                  break;
                case 'team3':
                  header.style.backgroundColor = '#ff8f00';
                  break;
                case 'team4':
                  header.style.backgroundColor = '#646464';
                  headerH1.style.color = '#fff';
                  break;
              }
            } else {
              console.error(`Team-Detail ${teamId}-details nicht gefunden!`);
            }
          } else {
            document.querySelectorAll('.team-details').forEach(detail => {
              detail.classList.add('active');
            });
          }
        } else if (sectionId === 'bored') {
          document.getElementById('game-canvas').style.display = 'block';
          document.getElementById('game-status').style.display = 'block';
          resetSnake();
        } else {
          document.getElementById('game-canvas').style.display = 'none';
          document.getElementById('game-status').style.display = 'none';
        }
      }

      function showAllSections() {
        console.log("Zeige alle Sektionen...");
        document.querySelectorAll('.section').forEach(section => {
          if (section.id !== 'bored-section') {
            section.classList.add('active');
          }
        });
        document.querySelectorAll('.team-details').forEach(detail => {
          detail.classList.add('active');
        });

        const header = document.querySelector('header');
        const headerH1 = document.querySelector('header h1');
        if (header && headerH1) {
          header.style.backgroundColor = '#ff1a1a';
          headerH1.style.color = '#fff';
        }

        if (window.innerWidth <= 768 || /Mobi|Android/i.test(navigator.userAgent)) {
          const teamsSection = document.getElementById('teams-section');
          if (teamsSection) {
            teamsSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
          }
        }

        // Snake nicht anzeigen
        document.getElementById('game-canvas').style.display = 'none';
        document.getElementById('game-status').style.display = 'none';
      }

      function renderTable() {
        const tbody = document.getElementById('table-body');
        if (tbody) {
          tbody.innerHTML = '';
          championshipData.forEach(row => {
            const tr = document.createElement('tr');
            tr.innerHTML = `
              <td>${row.platz}</td>
              <td>${row.fahrer}</td>
              <td>${row.team}</td>
              <td>${row.punkte}</td>
            `;
            tbody.appendChild(tr);
          });
        }
      }

      function renderConstructorTable() {
        const tbody = document.getElementById('constructor-body');
        if (tbody) {
          tbody.innerHTML = '';
          constructorData.forEach(row => {
            const tr = document.createElement('tr');
            tr.innerHTML = `
              <td>${row.platz}</td>
              <td>${row.team}</td>
              <td>${row.punkte}</td>
            `;
            tbody.appendChild(tr);
          });
        }
      }

      function selectSeason(season) {
        console.log(`Saison ${season} ausgew√§hlt`);
        if (season === 'Saison 1') {
          // Hier k√∂nnten Saison-spezifische Daten geladen werden; aktuell bleibt es bei den Standarddaten
          renderTable();
          renderConstructorTable();
        }
      }

      // Spielsteuerung
      let currentGame = 'snake';
      function showGame(game) {
        currentGame = game;
        if (game === 'snake') {
          document.getElementById('game-canvas').style.display = 'block';
          document.getElementById('game-status').style.display = 'block';
          resetSnake();
        }
      }

      // Snake-Spiel
      const canvasSnake = document.getElementById('game-canvas');
      const ctxSnake = canvasSnake.getContext('2d');
      let snake = [{ x: 10, y: 10 }];
      let food = { x: 15, y: 15 };
      let powerUp = null;
      let dx = 0;
      let dy = 0;
      let score = 0;
      let gameIntervalSnake;
      let powerUpTimer = 0;
      let personalHighScore = localStorage.getItem('personalHighScore') || 0;

      function initSnake() {
        console.log("Initialisiere Snake...");
        document.addEventListener('keydown', (e) => {
          const prevDx = dx;
          const prevDy = dy;
          switch (e.key) {
            case 'ArrowUp': if (prevDy !== 1) { dx = 0; dy = -1; } break;
            case 'ArrowDown': if (prevDy !== -1) { dx = 0; dy = 1; } break;
            case 'ArrowLeft': if (prevDx !== 1) { dx = -1; dy = 0; } break;
            case 'ArrowRight': if (prevDx !== -1) { dx = 1; dy = 0; } break;
            case 'r': case 'R': if (currentGame === 'snake') resetSnake(); break;
          }
        });
        gameIntervalSnake = setInterval(gameLoopSnake, 100);
      }

      function moveSnake() {
        const head = { x: snake[0].x + dx, y: snake[0].y + dy };
        snake.unshift(head);
        if (head.x === food.x && head.y === food.y) {
          score += powerUp ? 20 : 10;
          document.getElementById('game-status').textContent = `Punkte: ${score} | Power-Up: ${powerUpTimer.toFixed(1)}s | Steuerung: Pfeiltasten | Neustart: R`;
          generateFood();
        } else if (powerUp && head.x === powerUp.x && head.y === powerUp.y) {
          powerUp = null;
          powerUpTimer = 6;
          document.getElementById('game-status').textContent = `Punkte: ${score} | Power-Up: ${powerUpTimer.toFixed(1)}s | Steuerung: Pfeiltasten | Neustart: R`;
        } else {
          snake.pop();
        }
      }

      function drawGame() {
        ctxSnake.clearRect(0, 0, canvasSnake.width, canvasSnake.height);
        ctxSnake.fillStyle = '#ff1a1a';
        snake.forEach(segment => {
          ctxSnake.fillRect(segment.x * 20, segment.y * 20, 18, 18);
        });
        ctxSnake.fillStyle = '#40E0D0';
        ctxSnake.fillRect(food.x * 20, food.y * 20, 18, 18);
        if (powerUp) {
          ctxSnake.fillStyle = '#FFFFFF';
          ctxSnake.fillRect(powerUp.x * 20, powerUp.y * 20, 18, 18);
        }
      }

      function checkCollision() {
        const head = snake[0];
        if (head.x < 0 || head.x >= canvasSnake.width / 20 || head.y < 0 || head.y >= canvasSnake.height / 20) {
          endGame();
          return true;
        }
        for (let i = 1; i < snake.length; i++) {
          if (head.x === snake[i].x && head.y === snake[i].y) {
            endGame();
            return true;
          }
        }
        return false;
      }

      function generateFood() {
        food.x = Math.floor(Math.random() * (canvasSnake.width / 20));
        food.y = Math.floor(Math.random() * (canvasSnake.height / 20));
        if (snake.some(segment => segment.x === food.x && segment.y === food.y)) {
          generateFood();
        }
        if (Math.random() < 0.1 && !powerUp) {
          do {
            powerUp = { x: Math.floor(Math.random() * (canvasSnake.width / 20)), y: Math.floor(Math.random() * (canvasSnake.height / 20)) };
          } while (snake.some(segment => segment.x === powerUp.x && segment.y === powerUp.y) || (powerUp.x === food.x && powerUp.y === food.y));
        }
      }

      function gameLoopSnake() {
        if (!checkCollision()) {
          moveSnake();
          if (powerUpTimer > 0) {
            powerUpTimer -= 0.1;
            if (powerUpTimer <= 0) powerUpTimer = 0;
            document.getElementById('game-status').textContent = `Punkte: ${score} | Power-Up: ${powerUpTimer.toFixed(1)}s | Steuerung: Pfeiltasten | Neustart: R`;
          }
          drawGame();
        }
      }

      function resetSnake() {
        snake = [{ x: 10, y: 10 }];
        dx = 0;
        dy = 0;
        score = 0;
        powerUp = null;
        powerUpTimer = 0;
        document.getElementById('game-status').textContent = `Punkte: ${score} | Power-Up: ${powerUpTimer}s | Steuerung: Pfeiltasten | Neustart: R`;
        clearInterval(gameIntervalSnake);
        gameIntervalSnake = setInterval(gameLoopSnake, 100);
        generateFood();
      }

      function endGame() {
        clearInterval(gameIntervalSnake);
        if (currentGame === 'snake' && score > personalHighScore) personalHighScore = score;
        localStorage.setItem('personalHighScore', personalHighScore);
        updateHighScores();
        document.getElementById('game-status').textContent = `Game Over! Punkte: ${score} | Power-Up: ${powerUpTimer.toFixed(1)}s | Steuerung: Pfeiltasten | Neustart: R`;
      }

      function updateHighScores() {
        const ul = document.getElementById('high-scores-list');
        if (ul) {
          ul.innerHTML = '';
          const li = document.createElement('li');
          li.textContent = `Dein Highscore: ${personalHighScore} Punkte`;
          ul.appendChild(li);
        }
      }

      // Initiale Tabelle und Spiele rendern
      championshipData.sort((a, b) => b.punkte - a.punkte);
      championshipData.forEach((row, index) => {
        row.platz = index + 1;
      });
      renderTable();
      constructorData.sort((a, b) => b.punkte - a.punkte);
      constructorData.forEach((row, index) => {
        row.platz = index + 1;
      });
      renderConstructorTable();
      initSnake();
      // Kein automatisches Anzeigen von Snake hier
      updateHighScores();

      // Sicherstellen, dass das Skript nach DOM-Laden ausgef√ºhrt wird
      document.addEventListener('DOMContentLoaded', () => {
        console.log("DOM vollst√§ndig geladen.");
      });
    </script>
  </body>
</html>
